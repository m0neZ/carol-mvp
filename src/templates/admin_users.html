{% extends "base.html" %}

{% block title %}Usuários{% endblock %}

{% block page_title %}Lista de Usuários{% endblock %}

{% block content %}
<div class="table-responsive">
    <table class="table table-striped table-sm">
        <thead>
            <tr>
                <th scope="col">ID Interno</th>
                <th scope="col">Nome (Perfil)</th>
                <th scope="col">WhatsApp ID</th>
                <th scope="col">Telefone</th>
                <th scope="col">Criado em</th>
                <th scope="col">Ações</th>
            </tr>
        </thead>
        <tbody>
            {% for user in users %}
            <tr>
                <td>{{ user.id }}</td>
                <td>{{ user.profile_name if user.profile_name else "N/A" }}</td>
                <td>{{ user.whatsapp_id }}</td>
                <td>{{ user.phone_number }}</td>
                <td>{{ user.created_at.strftime("%d/%m/%Y %H:%M") if user.created_at else "N/A" }}</td>
                <td>
                    <a href="{{ url_for("get_user_details_html", whatsapp_id=user.whatsapp_id) }}" class="btn btn-sm btn-outline-primary">Detalhes</a>
                    <!-- Add more actions like edit/delete if needed -->
                </td>
            </tr>
            {% else %}
            <tr>
                <td colspan="6">Nenhum usuário encontrado.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<!-- Add pagination controls if needed -->

{% endblock %}

